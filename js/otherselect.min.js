var PDbOtherSelect=function(d){var e,m=function(a){e="pdbinit"===a.type;a=d(this);var b=a.closest('[class*="-other-control-group"]'),c=b.data("other-name"),f=b.find(".otherfield");g(f);"other"===a.val()?(b.find(".otherselect").attr("name","temp"),f.attr("name",c).select(),h(f)):(b.find(".otherselect").attr("name",c),f.attr("name","temp").val(""))},n=function(){var a=d(this).closest('[class*="-other-control-group"]'),b=a.data("other-name");a.find(".otherfield").attr("name",b);a.find(".otherselect option:selected").removeAttr("selected").end().find(".otherselect option[value=other]").prop("selected",
!0).end().find("select.otherselect").attr("name","temp");return!0},p=function(a){e="pdbinit"===a.type;k(d(this))},q=function(){return l(d(this))},r=function(a){e="pdbinit"===a.type;k(d(this))},t=function(){return l(d(this))},h=function(a){a.data("fieldvalue")&&a.attr("value",a.data("fieldvalue")).val(a.attr("value"))},g=function(a){var b=a.val();""!==b&&(a.attr("data-fieldvalue",b),a.data("fieldvalue",b))},k=function(a){var b=a.closest('[class*="-other-control-group"]'),c=b.data("other-name").replace("[]",
"")+(a.PDb_is_checkbox()?"[other]":"");b=b.find(".otherfield");g(b);a.is(":checked")&&a.hasClass("otherselect")?(h(b),b.attr("name",c),e||b.focus()):b.attr("name","temp").val("")},l=function(a){var b=a.closest('[class*="-other-control-group"]'),c=b.data("other-name");a.is(":focus")&&(a.prop("name",c.replace("[]","")+(a.PDb_is_checkbox()?"[other]":"")),b.find(".otherselect").prop("checked",!0),a.focus());return!0},u=function(){var a=d(this),b=a.find("[name]").first().attr("name"),c=a.find("input.otherfield");
c.length&&(a.data("other-name",b),c.attr("name",c.attr("name").replace(b,"temp")))};d.fn.PDb_is_checkbox=function(){return 0<this.closest('.selectother[class*="checkbox"]').length};return{init:function(){var a=d("div.dropdown-other-control-group"),b=d("div.checkbox-other-control-group"),c=d("div.radio-other-control-group");d("[class*=other-control-group]").each(u);a.on("change pdbinit","select.otherselect",m);a.on("click","input.otherfield",n);a.find(".otherselect").trigger("pdbinit");b.on("change pdbinit",
"input.otherselect",p);b.on("click","input.otherfield",q);b.find(".otherselect").trigger("pdbinit");c.on("change pdbinit",'input[type="radio"]',r);c.on("click","input.otherfield",t);c.find(".otherselect").trigger("pdbinit")}}}(jQuery);jQuery(function(){PDbOtherSelect.init()});